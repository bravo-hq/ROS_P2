 Group members:

 Kimia Mesghali 10721013
 Yousef Sadeghieh 10700751
 Shayan Shokri 10708757

 Project Summary:

     In this project, The mapping and localisation of the mobile robot are generated. To accomplish this, we exploited data provided by bag1 and bag2.(2020-05-14-16-09-36-traj1-os1-t265-pix.bag -> bag 1
2020-05-14-16-14-37-traj2-os1-t265-pix.bag -> bag 2)

     The localisation methods employed in this project are Monte Carlo and EKF for fusing the odometry and IMU data. (for fusing Robot_pose_ekf package has been used and the os1_IMU data has been used)

 Folders:

   In the launch folder, 5 files are provided : optitrack_gmapping, camera_gmapping and camera_gmapping_ekf, amcl, amcl_ekf.

    1. optitrack_gmapping: 
         Optitrack odometry data is exploited to create maps using gmapping

    2. camera_gmapping: 
         Visual odometry data is employed to create maps using gmapping

    3. camera_gmapping_ekf:
         IMUs data fused with visual odometry using EKF algorithm by pose EKF method

    4. amcl:
  	  • Laser characteristic parameters and position parameters are initialised in this file.
  	  • the amcl.launch file can be deployed to run all the nodes corresponding to the moving object at the same time.

    5. amcl_ekf:
  	  • Laser characteristic parameters and position parameters are initialised in this file.
  	  • the amcl_ekf.launch file can be deployed to run all the nodes corresponding to the moving object at the same time while using EKF to fuse visual odometry and IMU.


    It is worth mentioning that the amcl_ekf launch file demonstrates more coherency in robot localisation for the mobile robot as compared to amcl file.  

   In maps folder,
     several maps have been generated using gmapping. There are two maps that have been generated by optitrack_gmapping one for bag1 and another one for bag2, they have been named opti_bag*_final.
	 There are two maps generated by camera_gmapping which have been named like before (camera_bag*_final). 
	And there are two other maps which has been created using camera_gmapping_ekf which have been named this way camera_bag*_ekf_final. (instead of * use the number of the corresponding bag)

   In rviz folder,
   there are four files which are the configurations of the rviz when each launch file launches.

 structure of the tf tree:
   in optitrack_gmapping we have  map->world->Robot_1/base_link->os1_sensor
   in camera_gmapping & amcl we have map->camera_odom_frame->camera_pose_frame->os1_sensor
   in camera_gmapping_ekf & amcl_ekf we have map->odom_combined->base_footprint->os1_sensor
 
 name of the bag used to create the map and bag to test move_base:
   for creating map and localising there is no difference since our code can work on both bags without any problem.
But we recommend to use bag2 for creating the maps and bag1 for localisation.

 How to Start Nodes: 
   • before running any launch file please make sure you have the appropriate bag file running in the background.
   • place the package folder (loc_slam) in a catkin workspace and compile it.
   • To start all the nodes in different launch files, it is recommended to start a .launch file by $ roslaunch command.
   • Each launch file consists of its corresponding nodes.
   • if you have used gmapping launck files to save the maps you have to do it manually by writing the command below in the terminal
	$ rosrun maps_server map_saver -f (name)

	

